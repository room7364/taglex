<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Taglex: Home page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" 
          crossorigin="anonymous"
    >
  </head>

  <body>

    <form action="http://localhost:8080/refresh"
          method="POST"
          class="container" >

      <input type='hidden' name='id' value="<%=id = "#{servlet_request.query["id"]}"%>">
      <% results = Model.get id%>
      <h5>Face</h5>
        <div class="mb-3">
          <label for="fq" class="form-label">Questions</label>
          <textarea id="fq" name="face_questions" class="form-control" rows="10">
            <%= results["face"]["questions"].inject { |text, line| "#{text}\n\n#{line}" } %>
          </textarea>
        </div>
        <div class="mb-3">
          <label for="fe" class="form-label">Examples</label>
          <textarea id="fe" name="face_examples" class="form-control" rows="10">
            <%= results["face"]["examples"].inject { |text, line| "#{text}\n\n#{line}" } %>
          </textarea>
        </div>
      <h5>Back</h5>
        <div class="mb-3">
          <label for="ba" class="form-label">Answers</label>
          <textarea id="ba" name="back_answers" class="form-control" rows="10">
            <%= results["back"]["answers"].inject { |text, line| "#{text}\n\n#{line}" } %>
          </textarea>
        </div>
        <div class="mb-3">
          <label for="be" class="form-label">Examples</label>
          <textarea id="be" name="back_examples" class="form-control" rows="10">
            <%= results["back"]["examples"].inject { |text, line| "#{text}\n\n#{line}" } %>
          </textarea>
        </div>
        <div class="mb-3">
          <label for="tags" class="form-label">Tags:</label>
          <textarea id="tags" name="tags" class="form-control" rows="10">
            <%= results['tags'] ? results['tags'].inject { |text, statement| "#{text}, #{statement}" } : "None" %>
          </textarea>
        </div>
      <button>Submit</button>

    </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" 
            crossorigin="anonymous">
    </script>
  </body>
</html>
